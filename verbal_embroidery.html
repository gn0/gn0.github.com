<html>
<head>
<title>verbal embroidery</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>

<p><a href="http://xkcd.com/1288/">http://xkcd.com/1288/</a></p>

<p>Bookmarklets:</p>

<ul>
<li><a href="javascript:(function(){

var replaceList = [
    {regex: /witnesses/gi, replacement: 'these dudes I know'},
    {regex: /allegedly/gi, replacement: 'kinda probably'},
    {regex: /new study/gi, replacement: 'Tumblr post'},
    {regex: /rebuild/gi, replacement: 'avenge'},
    {regex: /space/gi, replacement: 'spaaace'},
    {regex: /google glass/gi, replacement: 'virtual boy'},
    {regex: /smartphone/gi, replacement: 'Pokédex'},
    {regex: /electric/gi, replacement: 'atomic'},
    {regex: /senator/gi, replacement: 'Elf-lord'},
    {regex: /car/gi, replacement: 'cat'},
    {regex: /election/gi, replacement: 'eating contest'},
    {regex: /congressional leaders/gi, replacement: 'river spirits'},
    {regex: /congressman/gi, replacement: 'river spirit'},
    {regex: /homeland security/gi, replacement: 'Homestar Runner'},
    {regex: /could not be reached for comment/gi, replacement: 'is guilty and everyone knows it'},
    {regex: /terrorist/gi, replacement: 'clown'},
    {regex: /kill/gi, replacement: 'tickle'},
    {regex: /civilian/gi, replacement: 'kitten'},
    {regex: /\bgun\b/gi, replacement: 'magic wand'},
    {regex: /\bgunfight\b/gi, replacement: 'magic wand fight'},
    {regex: /army/gi, replacement: 'team'},
    {regex: /soldier/gi, replacement: 'wizard'}
];

var replaceItems = function(text){
    var out;
    if(!text || !text.replace){
        console.log('Cannot replace');
        return text;
    }
    
    out = text;
    for(var i = 0; i < replaceList.length; i++){
        out = out.replace(replaceList[i].regex, replaceList[i].replacement);
    }
    return out;
};

var traversePage = function(tag){
    if(tag.id){
        console.log(tag.id);
    }
    if(tag.nodeType === 3){
        tag.textContent = replaceItems(tag.textContent);
    }
    if(tag.childNodes){
        for(var i = 0; i < tag.childNodes.length; i++){
            traversePage(tag.childNodes[i]);
        }
    }
};

traversePage(document);
}());">original</a></li>
<li><a href="javascript:(function () {
    var dropbox_folder = 'https://dl.dropboxusercontent.com/u/10594712/meo/';

    var kitties = [
        {name: 'Cat-Flower.jpg', width: 322, height: 358},
        {name: 'Cats-About-To-Hug.jpg', width: 1600, height: 1173},
        {name: 'Cute-Cat-06.jpg', width: 1558, height: 1050},
        {name: 'Downwards-Looking-Cat.jpg', width: 1600, height: 1200},
        {name: 'Hanging-Cats.jpg', width: 1440, height: 1080},
        {name: 'Lurking-Cat.jpg', width: 1280, height: 1024},
        {name: 'Praying-Cat.jpg', width: 1880, height: 1080},
        {name: 'Pretty-Cat.jpg', width: 1280, height: 853},
        {name: 'Drinking-Cat.jpg', width: 974, height: 768},
        {name: 'Blushing-Cat.jpg', width: 1920, height: 1440},
        {name: 'Bullet-Cat.jpg', width: 580, height: 403},
        {name: 'Sleeping-Cat.jpg', width: 640, height: 400},
        {name: 'Cat-In-A-Cup.jpg', width: 400, height: 296},
        {name: 'Cat-Kiss.jpg', width: 1024, height: 768},
        {name: 'Shades-Cat.jpg', width: 733, height: 485},
        {name: 'Vigorous-Cat.jpg', width: 600, height: 802},
        {name: 'Training-Cat.jpg', width: 800, height: 600}
    ];

    var randint = function (low, high) {
        return Math.floor(Math.random() * (high - low + 1) + low);
    };

    var images = document.getElementsByTagName('img');

    for (var i = 0; i < images.length; i++) {
        kitty = kitties[randint(0, kitties.length - 1)];
        images[i].src = dropbox_folder + kitty.name;

        if (images[i].width) {
            factor = Math.min(
                        images[i].width / kitty.width,
                        images[i].height / kitty.height);

            images[i].width = factor * kitty.width;
            images[i].height = factor * kitty.height;
        }
    }
}());">mèo</a></li>
</ul>

</body>
</html>
